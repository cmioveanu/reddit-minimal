(this["webpackJsonpreddit-client"]=this["webpackJsonpreddit-client"]||[]).push([[0],{12:function(t,e,n){t.exports={comment:"Comments_comment__1ZLiw",commentAuthor:"Comments_commentAuthor__27R81",isNotShown:"Comments_isNotShown__2xTd0",commentHeader:"Comments_commentHeader__1EAnF",commentDate:"Comments_commentDate__30AYo"}},16:function(t,e,n){t.exports={posts:"Posts_posts__3L4wU",post:"Posts_post__EC1dO",postBody:"Posts_postBody__H6rN4",readMore:"Posts_readMore__18MkM"}},17:function(t,e,n){t.exports={posts:"IndividualPost_posts__21OZ_",post:"IndividualPost_post__avrts",postBody:"IndividualPost_postBody__Zt-Y_",readMore:"IndividualPost_readMore__hZceE",goBack:"IndividualPost_goBack__1oNll"}},22:function(t,e,n){t.exports={likes:"Likes_likes__1tY2J",upVotesButton:"Likes_upVotesButton__u0XEb"}},26:function(t,e,n){t.exports={mainHeader:"Header_mainHeader__3hQCZ"}},29:function(t,e,n){t.exports={postInfos:"PostFooter_postInfos__1O4mB",commentsIcon:"PostFooter_commentsIcon__3Vwoy"}},30:function(t,e,n){t.exports={subSelector:"SubredditsDropdown_subSelector__3VoXN"}},31:function(t,e,n){t.exports={subreddits:"subreddits_subreddits__2IY1U",activeSub:"subreddits_activeSub__zwtlP"}},34:function(t,e,n){t.exports={searchBar:"SearchBar_searchBar__PXXdk"}},40:function(t,e,n){},45:function(t,e,n){},48:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n(0),s=n.n(c),i=n(18),a=n.n(i),o=(n(40),n(9)),d=n(4),u=n(3),l=(n.p,n.p+"static/media/redditLogo.eca27489.png"),b=(n(45),n(26)),j=n.n(b),h=n(11),p=Object(h.b)({name:"subreddits",initialState:{subReddits:[],activeSubreddit:"/r/Home/"},reducers:{addSubreddit:function(t,e){t.subReddits.push(e.payload)},changeActiveSubreddit:function(t,e){t.activeSubreddit=e.payload}}}),m=p.actions,f=m.addSubreddit,O=m.changeActiveSubreddit,x=p.reducer,v=n(34),_=n.n(v),g=Object(h.b)({name:"search",initialState:"",reducers:{changeActiveSearch:function(t,e){return e.payload}}}),w=g.actions.changeActiveSearch,k=g.reducer,y=function(){var t=Object(u.b)(),e=Object(u.c)((function(t){return t.subreddits.activeSubreddit})).slice(3,-1),n=Object(u.c)((function(t){return t.search}));return Object(r.jsx)("input",{className:_.a.searchBar,id:"Search",value:n,placeholder:"Search posts in "+e,onChange:function(e){t(w(e.target.value))}})},N=function(){var t=Object(u.b)();return Object(r.jsxs)("header",{className:j.a.mainHeader,children:[Object(r.jsx)(o.b,{to:"/",children:Object(r.jsxs)("h1",{onClick:function(){t(O("/r/Home/"))},children:["Reddit",Object(r.jsx)("span",{children:"Minimal"})]})}),Object(r.jsx)(y,{className:j.a.searchBar})]})},C=n(16),S=n.n(C),P=n(20),B=n(12),A=n.n(B),I=n(13),M=n.n(I),E=n(21),H="https://www.reddit.com",L=function(){var t=Object(E.a)(M.a.mark((function t(e){var n,r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(H).concat(e,".json"));case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r.data.children.map((function(t){return t.data})));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),z=function(){var t=Object(E.a)(M.a.mark((function t(){var e,n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(H,"/subreddits.json"));case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",n.data.children.map((function(t){return t.data})));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),U=function(){var t=Object(E.a)(M.a.mark((function t(e){var n,r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(H).concat(e,".json"));case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r[1].data.children.map((function(t){return t.data})));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(t){var e=Object(c.useState)([]),n=Object(P.a)(e,2),s=n[0],i=n[1];return Object(c.useEffect)((function(){U(t.permalink).then((function(t){return i(t.map((function(t){return Object(r.jsxs)("div",{className:A.a.comment,children:[Object(r.jsxs)("div",{className:A.a.commentHeader,children:[Object(r.jsx)("p",{className:A.a.commentAuthor,children:t.author}),Object(r.jsx)("p",{className:A.a.commentDate,children:W(t.created_utc)})]}),Object(r.jsx)("p",{children:t.body})]},t.id)})))}))}),[t.permalink]),Object(r.jsx)("div",{id:t.id,className:!0===t.visible?A.a.isShown:A.a.isNotShown,children:s})},R=n(29),V=n.n(R),W=function(t){var e=Date.now()-new Date(1e3*t),n=e/262656e4,r=e/864e5,c=e/36e5,s=e/6e4;return n>12?"more than a year ago":n>=1?Math.round(n)+" months ago":r>=1?Math.round(r)+" days ago":c>=1?Math.round(c)+" hours ago":s>=1?Math.round(s)+" minutes ago":"less than a minute ago"},Z=function(t){var e=Object(c.useState)(!1),n=Object(P.a)(e,2),s=n[0],i=n[1],a=Object(r.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24",className:"icon-action",height:"1.5rem",width:"1.5rem",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{d:"M18 7c.542 0 1 .458 1 1v7c0 .542-.458 1-1 1h-8.829l-.171.171v-.171h-3c-.542 0-1-.458-1-1v-7c0-.542.458-1 1-1h12m0-2h-12c-1.65 0-3 1.35-3 3v7c0 1.65 1.35 3 3 3h1v3l3-3h8c1.65 0 3-1.35 3-3v-7c0-1.65-1.35-3-3-3z"})});return Object(r.jsxs)("footer",{children:[Object(r.jsxs)("ul",{className:V.a.postInfos,children:[Object(r.jsx)("li",{children:Object(r.jsx)("span",{children:t.postAuthor})}),Object(r.jsx)("li",{children:W(t.postCreated)}),Object(r.jsxs)("li",{onClick:function(){var e=document.getElementById(t.postId);s?(e.style.display="none",i(!1)):(e.style.display="block",i(!0))},className:V.a.commentsIcon,children:[a,Object(r.jsx)("span",{children:t.postComments})]})]}),Object(r.jsx)(D,{permalink:t.postPermalink,id:t.postId,visible:t.visible})]})},X=n(22),Y=n.n(X),F=Object(r.jsx)("svg",{stroke:"green",fill:"black","aria-hidden":"true",strokeWidth:"0",version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24",height:"1.5rem",width:"1.5rem",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{d:"M12 21c-1.654 0-3-1.346-3-3v-4.764c-1.143 1.024-3.025.979-4.121-.115-1.17-1.169-1.17-3.073 0-4.242l7.121-7.121 7.121 7.121c1.17 1.169 1.17 3.073 0 4.242-1.094 1.095-2.979 1.14-4.121.115v4.764c0 1.654-1.346 3-3 3zm-1-12.586v9.586c0 .551.448 1 1 1s1-.449 1-1v-9.586l3.293 3.293c.379.378 1.035.378 1.414 0 .391-.391.391-1.023 0-1.414l-5.707-5.707-5.707 5.707c-.391.391-.391 1.023 0 1.414.379.378 1.035.378 1.414 0l3.293-3.293z"})}),J=Object(r.jsx)("svg",{stroke:"red",fill:"black","aria-hidden":"true",strokeWidth:"0",version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24",height:"1.5rem",width:"1.5rem",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{d:"M12 21.312l-7.121-7.121c-1.17-1.17-1.17-3.073 0-4.242 1.094-1.094 2.978-1.138 4.121-.115v-4.834c0-1.654 1.346-3 3-3s3 1.346 3 3v4.834c1.143-1.023 3.027-.979 4.121.115 1.17 1.169 1.17 3.072 0 4.242l-7.121 7.121zm-5-10.242c-.268 0-.518.104-.707.293-.391.39-.391 1.023 0 1.414l5.707 5.707 5.707-5.707c.391-.391.391-1.024 0-1.414-.379-.379-1.035-.379-1.414 0l-3.293 3.293v-9.656c0-.551-.448-1-1-1s-1 .449-1 1v9.656l-3.293-3.293c-.189-.189-.439-.293-.707-.293z"})}),G=Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",width:"1em",height:"1em",viewBox:"0 0 24 20",children:[Object(r.jsx)("path",{d:"M21 11H6.414l5.293-5.293l-1.414-1.414L2.586 12l7.707 7.707l1.414-1.414L6.414 13H21z",fill:"black"}),Object(r.jsx)("rect",{x:"0",y:"0",width:"24",height:"24",fill:"rgba(0, 0, 0, 0)"})]}),Q=function(t){return Object(r.jsxs)("div",{className:Y.a.likes,children:[Object(r.jsx)("div",{onClick:function(t){"black"===t.target.firstChild.getAttribute("fill")?(t.target.firstChild.setAttribute("fill","green"),t.target.parentNode.lastChild.firstChild.setAttribute("fill","black"),t.target.parentNode.children[1].style.color="green"):(t.target.firstChild.setAttribute("fill","black"),t.target.parentNode.children[1].style.color="black")},className:Y.a.upVotesButton,children:F}),Object(r.jsx)("p",{children:t.postUps>=1e3?Math.round(t.postUps/1e3*10)/10+"k":t.postUps}),Object(r.jsx)("div",{onClick:function(t){"black"===t.target.firstChild.getAttribute("fill")?(t.target.firstChild.setAttribute("fill","red"),t.target.parentNode.firstChild.firstChild.setAttribute("fill","black"),t.target.parentNode.children[1].style.color="red"):(t.target.firstChild.setAttribute("fill","black"),t.target.parentNode.children[1].style.color="black")},className:Y.a.upVotesButton,children:J})]})},T=Object(h.b)({name:"individualPostId",initialState:"",reducers:{changeActivePostId:function(t,e){return e.payload}}}),$=T.reducer,q=T.actions.changeActivePostId,K=n(30),tt=n.n(K),et=function(t){var e,n=Object(u.b)(),c=Object(u.c)((function(t){return t.subreddits.activeSubreddit})),s=Object(u.c)((function(t){return t.subreddits.subReddits})),i=function(t){n(O(t.target.value))};return Object(r.jsx)("section",{className:tt.a.subreddits,children:(e=s,Object(r.jsx)("select",{className:tt.a.subSelector,value:c,onChange:i,children:e.map((function(t){return Object(r.jsx)("option",{value:t.url,children:t.name},t.id)}))}))})},nt=function(){var t=Object(u.c)((function(t){return t.search})),e=Object(u.c)((function(t){return t.posts})),n=Object(u.b)(),c=e.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}));return Object(r.jsxs)("section",{className:S.a.posts,children:[Object(r.jsx)(et,{}),c.map((function(t){return Object(r.jsxs)("section",{className:S.a.post,children:[Object(r.jsx)(Q,{postUps:t.ups}),Object(r.jsxs)("div",{className:S.a.postBody,children:[Object(r.jsxs)(o.b,{to:"/individualPost",onClick:function(){return n(q(t.name))},children:[Object(r.jsx)("h2",{children:t.title}),Object(r.jsx)("p",{children:t.selftext.substring(0,600)+(t.selftext.length>600?" [...]":"")}),t.selftext.length>600?Object(r.jsx)("p",{className:S.a.readMore,children:"read more..."}):null,Object(r.jsx)("img",{src:t.url,onError:function(t){return t.target.style.display="none"}})]}),Object(r.jsx)(Z,{postId:t.id,postAuthor:t.author,postCreated:t.created_utc,postPermalink:t.permalink,postComments:t.num_comments,visible:!1})]})]},t.id)}))]})},rt=n(17),ct=n.n(rt),st=function(){var t=Object(u.c)((function(t){return t.posts})),e=Object(u.c)((function(t){return t.individualPostId})),n=t.filter((function(t){return t.name===e}));return Object(r.jsxs)("section",{className:ct.a.posts,children:[Object(r.jsx)(o.b,{to:"/",children:Object(r.jsxs)("button",{className:ct.a.goBack,children:[G," Go back to all posts"]})}),n.map((function(t){return Object(r.jsxs)("section",{className:ct.a.post,children:[Object(r.jsx)(Q,{postUps:t.ups}),Object(r.jsxs)("div",{className:ct.a.postBody,children:[Object(r.jsx)("h2",{children:t.title}),Object(r.jsx)("p",{children:t.selftext}),Object(r.jsx)("img",{src:t.url,onError:function(t){return t.target.style.display="none"}}),Object(r.jsx)(Z,{postId:t.id,postAuthor:t.author,postCreated:t.created_utc,postPermalink:t.permalink,postComments:t.num_comments,visible:!0})]})]},t.id)}))]})},it=n(31),at=n.n(it),ot=function(t){var e=Object(u.c)((function(t){return t.subreddits.activeSubreddit})),n=Object(u.c)((function(t){return t.subreddits.subReddits})),s=Object(u.b)();return Object(c.useEffect)((function(){return z().then((function(t){t.forEach((function(t){return s(f({name:t.display_name,url:t.url,id:t.id,icon:t.community_icon.split("?")[0]}))}))}))}),[s]),Object(r.jsx)("section",{className:at.a.subreddits,children:Object(r.jsx)("ul",{children:n.map((function(n){return Object(r.jsx)(o.b,{to:"/",children:Object(r.jsxs)("li",{onClick:function(){return s(O(n.url))},className:e===n.url?at.a.activeSub:void 0,children:[Object(r.jsx)("img",{src:n.icon,onError:function(e){return e.target.src=t.logo}}),n.name]})},n.id)}))})})},dt=Object(h.b)({name:"posts",initialState:[],reducers:{changePosts:function(t,e){return e.payload}}}),ut=dt.reducer,lt=dt.actions.changePosts;var bt=function(){var t=Object(u.c)((function(t){return t.subreddits.activeSubreddit})),e=Object(u.b)();return Object(c.useEffect)((function(){return L(t).then((function(t){e(lt(t))}))}),[t]),Object(r.jsx)(o.a,{children:Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(N,{}),Object(r.jsxs)("main",{children:[Object(r.jsxs)(d.c,{children:[Object(r.jsx)(d.a,{exact:!0,path:"/individualPost",children:Object(r.jsx)(st,{})}),Object(r.jsx)(d.a,{exact:!0,path:"/",children:Object(r.jsx)(nt,{})})]}),Object(r.jsx)(ot,{logo:l})]})]})})},jt=Object(h.a)({reducer:{search:k,posts:ut,subreddits:x,individualPostId:$}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(u.a,{store:jt,children:Object(r.jsx)(bt,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[48,1,2]]]);
//# sourceMappingURL=main.4fd710bc.chunk.js.map